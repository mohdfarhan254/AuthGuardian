{"ast":null,"code":"import _objectSpread from\"D:/auth-guardian/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import api from'../services/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{const[step,setStep]=useState('register');// 'register' or 'verify'\nconst[formData,setFormData]=useState({name:'',email:'',password:''});const[otp,setOtp]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();// Handle form inputs\nconst handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};// Register user\nconst handleRegister=async e=>{e.preventDefault();setLoading(true);try{await api.post('/register',formData);alert('‚úÖ OTP sent to your email');setStep('verify');}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'‚ùå Registration failed');}setLoading(false);};// Verify OTP\nconst handleVerify=async e=>{e.preventDefault();setLoading(true);try{await api.post('/verify-email',{email:formData.email,otp:otp.trim()});alert('‚úÖ Email verified! You can now login.');navigate('/login');}catch(err){var _err$response2,_err$response2$data;alert(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'‚ùå OTP verification failed');}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:400,margin:'50px auto',textAlign:'center'},children:step==='register'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDEE1\\uFE0F Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Registering...':'Register'})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD10 Verify OTP\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVerify,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter 6-digit OTP\",value:otp,onChange:e=>setOtp(e.target.value),required:true,maxLength:6,inputMode:\"numeric\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Verifying...':'Verify OTP'})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:20,color:'#555'},children:[\"OTP sent to: \",/*#__PURE__*/_jsx(\"b\",{children:formData.email})]})]})});};export default Register;","map":{"version":3,"names":["React","useState","api","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","step","setStep","formData","setFormData","name","email","password","otp","setOtp","loading","setLoading","navigate","handleChange","e","_objectSpread","target","value","handleRegister","preventDefault","post","alert","err","_err$response","_err$response$data","response","data","message","handleVerify","trim","_err$response2","_err$response2$data","style","maxWidth","margin","textAlign","children","onSubmit","type","placeholder","onChange","required","disabled","maxLength","inputMode","marginTop","color"],"sources":["D:/auth-guardian/frontend/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport api from '../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Register = () => {\r\n  const [step, setStep] = useState('register'); // 'register' or 'verify'\r\n  const [formData, setFormData] = useState({ name: '', email: '', password: '' });\r\n  const [otp, setOtp] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Handle form inputs\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Register user\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      await api.post('/register', formData);\r\n      alert('‚úÖ OTP sent to your email');\r\n      setStep('verify');\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || '‚ùå Registration failed');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // Verify OTP\r\n  const handleVerify = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      await api.post('/verify-email', {\r\n        email: formData.email,\r\n        otp: otp.trim(),\r\n      });\r\n      alert('‚úÖ Email verified! You can now login.');\r\n      navigate('/login');\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || '‚ùå OTP verification failed');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 400, margin: '50px auto', textAlign: 'center' }}>\r\n      {step === 'register' ? (\r\n        <>\r\n          <h2>üõ°Ô∏è Register</h2>\r\n          <form onSubmit={handleRegister}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              required\r\n            /><br /><br />\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            /><br /><br />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n            /><br /><br />\r\n            <button type=\"submit\" disabled={loading}>\r\n              {loading ? 'Registering...' : 'Register'}\r\n            </button>\r\n          </form>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h2>üîê Verify OTP</h2>\r\n          <form onSubmit={handleVerify}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter 6-digit OTP\"\r\n              value={otp}\r\n              onChange={(e) => setOtp(e.target.value)}\r\n              required\r\n              maxLength={6}\r\n              inputMode=\"numeric\"\r\n            /><br /><br />\r\n            <button type=\"submit\" disabled={loading}>\r\n              {loading ? 'Verifying...' : 'Verify OTP'}\r\n            </button>\r\n          </form>\r\n          <p style={{ marginTop: 20, color: '#555' }}>\r\n            OTP sent to: <b>{formData.email}</b>\r\n          </p>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}