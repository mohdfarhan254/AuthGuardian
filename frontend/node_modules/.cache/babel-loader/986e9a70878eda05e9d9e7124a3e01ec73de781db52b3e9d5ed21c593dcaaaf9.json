{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[user,setUser]=useState(null);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(!token)return navigate('/login');api.get('/protected',{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>setUser(res.data.user)).catch(()=>{localStorage.removeItem('token');navigate('/login');});},[navigate]);const handleLogout=()=>{localStorage.removeItem('token');navigate('/');};if(!user)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:400,margin:'50px auto'},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.name,\" \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Role: \",user.role]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"\\uD83D\\uDEAA Logout\"})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","api","jsx","_jsx","jsxs","_jsxs","Dashboard","user","setUser","navigate","token","localStorage","getItem","get","headers","Authorization","concat","then","res","data","catch","removeItem","handleLogout","children","style","maxWidth","margin","name","email","role","onClick"],"sources":["D:/auth-guardian/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../services/api';\r\n\r\nconst Dashboard = () => {\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return navigate('/login');\r\n\r\n    api.get('/protected', {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then((res) => setUser(res.data.user))\r\n      .catch(() => {\r\n        localStorage.removeItem('token');\r\n        navigate('/login');\r\n      });\r\n  }, [navigate]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    navigate('/');\r\n  };\r\n\r\n  if (!user) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <div style={{ maxWidth: 400, margin: '50px auto' }}>\r\n      <h2>Welcome, {user.name} ðŸ‘‹</h2>\r\n      <p>Email: {user.email}</p>\r\n      <p>Role: {user.role}</p>\r\n      <button onClick={handleLogout}>ðŸšª Logout</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,MAAO,CAAAD,QAAQ,CAAC,QAAQ,CAAC,CAErCR,GAAG,CAACY,GAAG,CAAC,YAAY,CAAE,CACpBC,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYN,KAAK,CAAG,CAC9C,CAAC,CAAC,CACCO,IAAI,CAAEC,GAAG,EAAKV,OAAO,CAACU,GAAG,CAACC,IAAI,CAACZ,IAAI,CAAC,CAAC,CACrCa,KAAK,CAAC,IAAM,CACXT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,CAChCZ,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAa,YAAY,CAAGA,CAAA,GAAM,CACzBX,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,CAChCZ,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,GAAI,CAACF,IAAI,CAAE,mBAAOJ,IAAA,MAAAoB,QAAA,CAAG,YAAU,CAAG,CAAC,CAEnC,mBACElB,KAAA,QAAKmB,KAAK,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,WAAY,CAAE,CAAAH,QAAA,eACjDlB,KAAA,OAAAkB,QAAA,EAAI,WAAS,CAAChB,IAAI,CAACoB,IAAI,CAAC,eAAG,EAAI,CAAC,cAChCtB,KAAA,MAAAkB,QAAA,EAAG,SAAO,CAAChB,IAAI,CAACqB,KAAK,EAAI,CAAC,cAC1BvB,KAAA,MAAAkB,QAAA,EAAG,QAAM,CAAChB,IAAI,CAACsB,IAAI,EAAI,CAAC,cACxB1B,IAAA,WAAQ2B,OAAO,CAAER,YAAa,CAAAC,QAAA,CAAC,qBAAS,CAAQ,CAAC,EAC9C,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}